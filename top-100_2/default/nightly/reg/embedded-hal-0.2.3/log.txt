[INFO] crate embedded-hal 0.2.3 is already in cache
[INFO] extracting crate embedded-hal 0.2.3 into work\ex\default\sources\nightly\reg\embedded-hal\0.2.3
[INFO] extracting crate embedded-hal 0.2.3 into work\ex\default\sources\nightly+rustflags=-Zverbose\reg\embedded-hal\0.2.3
[INFO] validating manifest of embedded-hal-0.2.3 on toolchain nightly
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "read-manifest" "--manifest-path" "Cargo.toml"`
[INFO] validating manifest of embedded-hal-0.2.3 on toolchain nightly+rustflags=-Zverbose
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "read-manifest" "--manifest-path" "Cargo.toml"`
[INFO] started frobbing embedded-hal-0.2.3
[INFO] finished frobbing embedded-hal-0.2.3
[INFO] frobbed toml for embedded-hal-0.2.3 written to work\ex\default\sources\nightly\reg\embedded-hal\0.2.3\Cargo.toml
[INFO] started frobbing embedded-hal-0.2.3
[INFO] finished frobbing embedded-hal-0.2.3
[INFO] frobbed toml for embedded-hal-0.2.3 written to work\ex\default\sources\nightly+rustflags=-Zverbose\reg\embedded-hal\0.2.3\Cargo.toml
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "generate-lockfile" "--manifest-path" "Cargo.toml" "-Zno-index-update"`
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "generate-lockfile" "--manifest-path" "Cargo.toml" "-Zno-index-update"`
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "fetch" "--locked" "--manifest-path" "Cargo.toml"`
[INFO] running `"C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home\\bin\\cargo.exe" "+nightly" "fetch" "--locked" "--manifest-path" "Cargo.toml"`
[INFO] testing embedded-hal-0.2.3 against nightly for default
[INFO] running `"docker" "create" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\target-dirs\\default\\worker-0\\nightly,dst=C:\\crater\\target" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\ex\\default\\sources\\nightly\\reg\\embedded-hal\\0.2.3,dst=C:\\crater\\workdir,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home,dst=C:\\crater\\cargo-home,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\rustup-home,dst=C:\\crater\\rustup-home,readonly" "-e" "SOURCE_DIR=C:\\crater\\workdir" "-e" "CARGO_TARGET_DIR=C:\\crater\\target" "-e" "CARGO_INCREMENTAL=0" "-e" "RUST_BACKTRACE=full" "-e" "RUSTFLAGS=--cap-lints=allow" "-e" "CARGO_HOME=C:\\crater\\cargo-home" "-e" "RUSTUP_HOME=C:\\crater\\rustup-home" "-w" "C:\\crater\\workdir" "-m" "1536M" "--network" "none" "--isolation=process" "crates-build-env-windows" "C:\\crater\\cargo-home\\bin\\cargo" "+nightly" "build" "--frozen"`
[INFO] [stdout] 548b9171326d629e741a9df0cb3f0171e874a75ada3bdfb8b3b465ff67c4a69d
[INFO] running `"docker" "start" "-a" "548b9171326d629e741a9df0cb3f0171e874a75ada3bdfb8b3b465ff67c4a69d"`
[INFO] [stderr]    Compiling nb v0.1.2
[INFO] [stderr]    Compiling embedded-hal v0.2.3 (C:\crater\workdir)
[INFO] [stderr]     Finished dev [unoptimized + debuginfo] target(s) in 2.02s
[INFO] running `"docker" "inspect" "548b9171326d629e741a9df0cb3f0171e874a75ada3bdfb8b3b465ff67c4a69d"`
[INFO] running `"docker" "rm" "-f" "548b9171326d629e741a9df0cb3f0171e874a75ada3bdfb8b3b465ff67c4a69d"`
[INFO] [stdout] 548b9171326d629e741a9df0cb3f0171e874a75ada3bdfb8b3b465ff67c4a69d
[INFO] running `"docker" "create" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\target-dirs\\default\\worker-0\\nightly,dst=C:\\crater\\target" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\ex\\default\\sources\\nightly\\reg\\embedded-hal\\0.2.3,dst=C:\\crater\\workdir,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home,dst=C:\\crater\\cargo-home,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\rustup-home,dst=C:\\crater\\rustup-home,readonly" "-e" "SOURCE_DIR=C:\\crater\\workdir" "-e" "CARGO_TARGET_DIR=C:\\crater\\target" "-e" "CARGO_INCREMENTAL=0" "-e" "RUST_BACKTRACE=full" "-e" "RUSTFLAGS=--cap-lints=allow" "-e" "CARGO_HOME=C:\\crater\\cargo-home" "-e" "RUSTUP_HOME=C:\\crater\\rustup-home" "-w" "C:\\crater\\workdir" "-m" "1536M" "--network" "none" "--isolation=process" "crates-build-env-windows" "C:\\crater\\cargo-home\\bin\\cargo" "+nightly" "test" "--frozen" "--no-run"`
[INFO] [stdout] 2f8a280d4cd33f576c03fe422822ac675f33e2aef5ad620c9b76abfced2817e2
[INFO] running `"docker" "start" "-a" "2f8a280d4cd33f576c03fe422822ac675f33e2aef5ad620c9b76abfced2817e2"`
[INFO] [stderr]    Compiling vcell v0.1.0
[INFO] [stderr]    Compiling cortex-m v0.4.3
[INFO] [stderr]    Compiling bare-metal v0.1.3
[INFO] [stderr]    Compiling aligned v0.1.2
[INFO] [stderr]    Compiling untagged-option v0.1.1
[INFO] [stderr]    Compiling volatile-register v0.2.0
[INFO] [stderr]    Compiling stm32f30x v0.6.2
[INFO] [stderr]    Compiling embedded-hal v0.2.3 (C:\crater\workdir)
[INFO] [stderr]     Finished dev [unoptimized + debuginfo] target(s) in 1m 52s
[INFO] running `"docker" "inspect" "2f8a280d4cd33f576c03fe422822ac675f33e2aef5ad620c9b76abfced2817e2"`
[INFO] running `"docker" "rm" "-f" "2f8a280d4cd33f576c03fe422822ac675f33e2aef5ad620c9b76abfced2817e2"`
[INFO] [stdout] 2f8a280d4cd33f576c03fe422822ac675f33e2aef5ad620c9b76abfced2817e2
[INFO] running `"docker" "create" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\target-dirs\\default\\worker-0\\nightly,dst=C:\\crater\\target" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\ex\\default\\sources\\nightly\\reg\\embedded-hal\\0.2.3,dst=C:\\crater\\workdir,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\cargo-home,dst=C:\\crater\\cargo-home,readonly" "--mount" "type=bind,src=C:\\Users\\mackendy\\src\\crater\\work\\local\\rustup-home,dst=C:\\crater\\rustup-home,readonly" "-e" "SOURCE_DIR=C:\\crater\\workdir" "-e" "CARGO_TARGET_DIR=C:\\crater\\target" "-e" "CARGO_INCREMENTAL=0" "-e" "RUST_BACKTRACE=full" "-e" "RUSTFLAGS=--cap-lints=allow" "-e" "CARGO_HOME=C:\\crater\\cargo-home" "-e" "RUSTUP_HOME=C:\\crater\\rustup-home" "-w" "C:\\crater\\workdir" "-m" "1536M" "--network" "none" "--isolation=process" "crates-build-env-windows" "C:\\crater\\cargo-home\\bin\\cargo" "+nightly" "test" "--frozen"`
[INFO] [stdout] e10ebd0a45cc64d41970c572f4f56d7034b6becd9ee23c78ae55a76de3905c87
[INFO] running `"docker" "start" "-a" "e10ebd0a45cc64d41970c572f4f56d7034b6becd9ee23c78ae55a76de3905c87"`
[INFO] [stderr]     Finished dev [unoptimized + debuginfo] target(s) in 0.37s
[INFO] [stderr]      Running C:\crater\target\debug\deps\embedded_hal-a1640c359cc1c659.exe
[INFO] [stdout] 
[INFO] [stdout] running 5 tests
[INFO] [stdout] test digital::v1_compat::tests::v1_v2_output_explicit ... ok
[INFO] [stdout] test digital::v1_compat::tests::v1_v2_output_state ... ok
[INFO] [stdout] test digital::v2_compat::tests::v2_v1_output_implicit ... ok
[INFO] [stdout] test digital::v2_compat::tests::v2_v1_output_state ... ok
[INFO] [stdout] test digital::v1_compat::tests::v1_v2_output_panic ... ok
[INFO] [stdout] 
[INFO] [stdout] test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
[INFO] [stdout] 
[INFO] [stderr]    Doc-tests embedded-hal
[INFO] [stdout] 
[INFO] [stdout] running 11 tests
[INFO] [stdout] test src\lib.rs -  (line 385) ... FAILED
[INFO] [stdout] test src\lib.rs -  (line 242) ... FAILED
[INFO] [stdout] test src\lib.rs -  (line 483) ... ok
[INFO] [stdout] test src\lib.rs -  (line 124) ... ok
[INFO] [stdout] test src\lib.rs -  (line 506) ... ok
[INFO] [stdout] test src\lib.rs -  (line 204) ... ok
[INFO] [stdout] test src\lib.rs -  (line 558) ... FAILED
[INFO] [stdout] test src\lib.rs -  (line 95) ... ok
[INFO] [stdout] test src\lib.rs -  (line 69) ... ok
[INFO] [stdout] test src\timer.rs - timer::CountDown (line 20) ... ok
[INFO] [stdout] test src\lib.rs -  (line 596) ... ok
[INFO] [stdout] 
[INFO] [stdout] failures:
[INFO] [stdout] 
[INFO] [stdout] ---- src\lib.rs -  (line 385) stdout ----
[INFO] [stdout] error[E0469]: imported macro not found
[INFO] [stdout]  --> src\lib.rs:391:13
[INFO] [stdout]   |
[INFO] [stdout] 7 | #[macro_use(await)]
[INFO] [stdout]   |             ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `await!` in this scope
[INFO] [stdout]   --> src\lib.rs:436:13
[INFO] [stdout]    |
[INFO] [stdout] 52 |             await!(serial.write(byte)).unwrap();
[INFO] [stdout]    |             ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `await!` in this scope
[INFO] [stdout]   --> src\lib.rs:435:24
[INFO] [stdout]    |
[INFO] [stdout] 51 |             let byte = await!(serial.read()).unwrap();
[INFO] [stdout]    |                        ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `await!` in this scope
[INFO] [stdout]   --> src\lib.rs:421:13
[INFO] [stdout]    |
[INFO] [stdout] 37 |             await!(timer.wait()).unwrap(); // NOTE(unwrap) E = Void
[INFO] [stdout]    |             ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error[E0599]: no method named `resume` found for type `std::pin::Pin<&mut _>` in the current scope
[INFO] [stdout]   --> src\lib.rs:442:31
[INFO] [stdout]    |
[INFO] [stdout] 58 |         Pin::new(&mut blinky).resume();
[INFO] [stdout]    |                               ^^^^^^
[INFO] [stdout]    |
[INFO] [stdout]    = note: Pin::new(&mut blinky) is a function, perhaps you wish to call it
[INFO] [stdout] 
[INFO] [stdout] error[E0599]: no method named `resume` found for type `std::pin::Pin<&mut _>` in the current scope
[INFO] [stdout]   --> src\lib.rs:443:33
[INFO] [stdout]    |
[INFO] [stdout] 59 |         Pin::new(&mut loopback).resume();
[INFO] [stdout]    |                                 ^^^^^^
[INFO] [stdout]    |
[INFO] [stdout]    = note: Pin::new(&mut loopback) is a function, perhaps you wish to call it
[INFO] [stdout] 
[INFO] [stdout] error: aborting due to 6 previous errors
[INFO] [stdout] 
[INFO] [stdout] Some errors have detailed explanations: E0469, E0599.
[INFO] [stdout] For more information about an error, try `rustc --explain E0469`.
[INFO] [stdout] Couldn't compile the test.
[INFO] [stdout] ---- src\lib.rs -  (line 242) stdout ----
[INFO] [stdout] error[E0469]: imported macro not found
[INFO] [stdout]  --> src\lib.rs:247:13
[INFO] [stdout]   |
[INFO] [stdout] 6 | #[macro_use(try_nb)]
[INFO] [stdout]   |             ^^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `try_nb!` in this scope
[INFO] [stdout]   --> src\lib.rs:284:20
[INFO] [stdout]    |
[INFO] [stdout] 43 |         let byte = try_nb!(serial.as_mut().unwrap().read());
[INFO] [stdout]    |                    ^^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `try_nb!` in this scope
[INFO] [stdout]   --> src\lib.rs:269:9
[INFO] [stdout]    |
[INFO] [stdout] 28 |         try_nb!(timer.as_mut().unwrap().wait());
[INFO] [stdout]    |         ^^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `try_nb!` in this scope
[INFO] [stdout]   --> src\lib.rs:299:9
[INFO] [stdout]    |
[INFO] [stdout] 58 |         try_nb!(serial.as_mut().unwrap().write(byte));
[INFO] [stdout]    |         ^^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: aborting due to 4 previous errors
[INFO] [stdout] 
[INFO] [stdout] For more information about this error, try `rustc --explain E0469`.
[INFO] [stdout] Couldn't compile the test.
[INFO] [stdout] ---- src\lib.rs -  (line 558) stdout ----
[INFO] [stdout] error[E0469]: imported macro not found
[INFO] [stdout]  --> src\lib.rs:564:13
[INFO] [stdout]   |
[INFO] [stdout] 7 | #[macro_use(await)]
[INFO] [stdout]   |             ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `await!` in this scope
[INFO] [stdout]   --> src\lib.rs:584:25
[INFO] [stdout]    |
[INFO] [stdout] 27 |             buffer[i] = await!(spi.read())?;
[INFO] [stdout]    |                         ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error: cannot find macro `await!` in this scope
[INFO] [stdout]   --> src\lib.rs:583:13
[INFO] [stdout]    |
[INFO] [stdout] 26 |             await!(spi.send(buffer[i]))?;
[INFO] [stdout]    |             ^^^^^
[INFO] [stdout] 
[INFO] [stdout] error[E0277]: the trait bound `[closure@src\lib.rs:23:5: 31:6 buffer:_, spi:_]: std::ops::Generator` is not satisfied
[INFO] [stdout]   --> src\lib.rs:576:6
[INFO] [stdout]    |
[INFO] [stdout] 19 | ) -> impl Generator<Return = Result<(S, [u8; 16]), S::Error>, Yield = ()>
[INFO] [stdout]    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `std::ops::Generator` is not implemented for `[closure@src\lib.rs:23:5: 31:6 buffer:_, spi:_]`
[INFO] [stdout]    |
[INFO] [stdout]    = note: the return type of a function must have a statically known size
[INFO] [stdout] 
[INFO] [stdout] error: aborting due to 4 previous errors
[INFO] [stdout] 
[INFO] [stdout] Some errors have detailed explanations: E0277, E0469.
[INFO] [stdout] For more information about an error, try `rustc --explain E0277`.
[INFO] [stdout] Couldn't compile the test.
[INFO] [stdout] 
[INFO] [stdout] failures:
[INFO] [stdout]     src\lib.rs -  (line 242)
[INFO] [stdout]     src\lib.rs -  (line 385)
[INFO] [stdout]     src\lib.rs -  (line 558)
[INFO] [stdout] 
[INFO] [stdout] test result: FAILED. 8 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out
[INFO] [stdout] 
[INFO] [stderr] error: test failed, to rerun pass '--doc'
[INFO] running `"docker" "inspect" "e10ebd0a45cc64d41970c572f4f56d7034b6becd9ee23c78ae55a76de3905c87"`
[INFO] running `"docker" "rm" "-f" "e10ebd0a45cc64d41970c572f4f56d7034b6becd9ee23c78ae55a76de3905c87"`
[INFO] [stdout] e10ebd0a45cc64d41970c572f4f56d7034b6becd9ee23c78ae55a76de3905c87
